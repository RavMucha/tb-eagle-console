<header>
  <app-breadcrumbs [cancelActive]="true" [steps]="['Create new solution']"> </app-breadcrumbs>
  <app-progress [steps]="['Details', 'Workspace']" [current]="screenNum"> </app-progress>
</header>
<form [formGroup]="solutionForm" (ngSubmit)="onSubmit(solutionForm.value)">
  <div class="details-container" *ngIf="!onPartTwo">
    <mat-form-field id="name" appearance="outline">
      <mat-label>Name</mat-label>
      <input matInput required type="text" maxlength="50" formControlName="name" placeholder="E.g. project name..." />
      <mat-error *ngIf="nameFormControl.hasError('required')"> Name is <strong>required</strong> </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Description</mat-label>
      <textarea
        matInput
        required
        #desctext
        maxlength="200"
        formControlName="desc"
        placeholder="Type your description here..."
      ></textarea>
      <mat-hint align="end">{{ desctext.value.length }} / 200</mat-hint>
      <mat-error *ngIf="descFormControl.hasError('required')"> Description is <strong>required</strong> </mat-error>
    </mat-form-field>

    <mat-form-field id="business-unit" appearance="outline">
      <mat-label>Business unit</mat-label>
      <mat-select required formControlName="businessUnit">
        <mat-option value="FICC">FICC</mat-option>
        <mat-option value="Modern Apps">Modern Apps</mat-option>
        <mat-option value="Data">Data</mat-option>
      </mat-select>
    </mat-form-field>

    <div class="footer-container details-footer-container">
      <button mat-button color="primary" (click)="toggleSolutionPage()">
        Continue <mat-icon>keyboard_arrow_right</mat-icon>
      </button>
    </div>
  </div>

  <div class="workspace-container" *ngIf="onPartTwo">
    <p>
      <mat-form-field appearance="outline">
        <mat-label>CI (Continous intergration service)</mat-label>
        <mat-select required formControlName="ci">
          <mat-option value="Jenkins">Jenkins</mat-option>
          <mat-option value="Team City">Team City</mat-option>
          <mat-option value="Cloud native">Cloud native</mat-option>
          <mat-option value="Bamboo">Bamboo</mat-option>
          <mat-option value="Travis">Travis</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>Source Control</mat-label>
        <mat-select required formControlName="sourceControl">
          <mat-option value="GitHub">GitHub</mat-option>
          <mat-option value="BitBucket">BitBucket</mat-option>
          <mat-option value="Cloud native">Cloud native</mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field appearance="outline">
        <mat-label>CD (Continous deployment)</mat-label>
        <mat-select required formControlName="cd">
          <mat-option value="Central">Central</mat-option>
          <mat-option value="Spinnaker">Spinnaker</mat-option>
          <mat-option value="Team City">Team City</mat-option>
          <mat-option value="Screwdriver">Screwdriver</mat-option>
        </mat-select>
      </mat-form-field>
    </p>

    <p>
      <span class="mat-subheading-1">Available environments</span>
      <mat-selection-list formControlName="envs">
        <mat-list-option *ngFor="let env of availableEnvs" [value]="env">
          {{ env }}
        </mat-list-option>
      </mat-selection-list>
    </p>

    <div class="footer-container">
      <button mat-button color="primary" (click)="toggleSolutionPage()">
        <mat-icon>keyboard_arrow_left</mat-icon> Back to details
      </button>
      <button mat-button color="primary" type="submit">Continue <mat-icon>keyboard_arrow_right</mat-icon></button>
    </div>
  </div>
</form>
